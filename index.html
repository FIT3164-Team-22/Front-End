<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BOM Data Explorer</title>

    <!-- Leaflet.js CSS for the interactive map -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
        integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY="
        crossorigin="" />

    <link rel="stylesheet" href="styles.css">

    <!-- Vega Libraries -->
    <script src="https://cdn.jsdelivr.net/npm/vega@5.20.2"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-lite@5.1.0"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-embed@6.17.0"></script>
</head>

<body>

    <div class="page-container">
        <!-- Filters and Controls Section -->
        <aside class="filters-panel">
            <h3 class="sidebar-title">BOM Data Explorer</h3>
            <form>
                <fieldset>
                    <legend>Time Period</legend>
                    <label for="start_date">Start Date</label>
                    <input type="date" id="start_date" name="start_date" value="2022-01-01">
                    <label for="end_date">End Date</label>
                    <input type="date" id="end_date" name="end_date" value="2023-01-01">
                </fieldset>

                <fieldset>
                    <legend>Meteorological Variables</legend>
                    <label class="checkbox-label"><input type="checkbox" name="temperature"> Temperature</label>
                    <label class="checkbox-label"><input type="checkbox" name="wind"> Wind</label>
                    <label class="checkbox-label"><input type="checkbox" name="rainfall"> Rainfall</label>
                    <label class="checkbox-label"><input type="checkbox" name="humidity"> Humidity</label>
                    <label class="checkbox-label"><input type="checkbox" name="solar_radiation"> Solar Radiation</label>
                </fieldset>

                <fieldset>
                    <legend>Geographic Region</legend>
                    <label for="regionselector">Predefined Region</label>
                    <select id="regionselector" name="regionselector">
                        <option value="all_australia">All Australia</option>
                        <option value="Victoria">Victoria</option>
                        <option value="South Australia">South Australia</option>
                        <option value="Western Australia">Western Australia</option>
                        <option value="Northern Territory">Northern Territory</option>
                        <option value="Queensland">Queensland</option>
                        <option value="New South Wales">New South Wales</option>
                        <option value="Tasmania">Tasmania</option>
                    </select>
                    <button type="button" class="button button-secondary">Draw Custom Area</button>
                </fieldset>
                <button type="submit" class="button button-primary">Update Visualisation</button>
            </form>
        </aside>

        <!-- Main Dashboard Content -->
        <main class="main-content">
            <header class="main-header">
                <h2>Meteorological Data Dashboard</h2>
                <p>Displaying data for <mark>All Australia</mark> from <mark>selected dates</mark>.</p>
            </header>

            <div class="grid">
                <article class="card span-2">
                    <div id="map"></div>
                </article>
                <article class="card">
                    <h4>Time Series Chart</h4>
                    <div id="linechart">
                        <img src="https://placehold.co/600x400/e1e6f0/435b83?text=Time+Series" alt="Placeholder for a time series line chart">
                    </div>
                </article>
            </div>

            <div class="grid">
                <article class="card">
                    <h4>Location-Based Analysis</h4>
                    <p><strong>Dominant Factor:</strong> Temperature</p>
                    <p><strong>Correlation Found:</strong> High</p>
                </article>
                <article class="card">
                    <h4>Data Export</h4>
                    <p>Download the filtered dataset for offline analysis.</p>
                    <button type="button" class="button button-primary">Export Data (CSV)</button>
                </article>
                <article class="card">
                    <h4>User Manual</h4>
                    <p>Need help? View the manual for how to use this page.</p>
                    <button type="button" class="button button-secondary">View Manual</button>
                </article>
            </div>
        </main>
    </div>

    <!-- Leaflet.js JavaScript -->
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" crossorigin=""></script>

    <!-- Custom Script to Initialize Map -->
    <script>
        var map = L.map('map').setView([-25.27, 133.77], 4);
        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
            maxZoom: 19,
            attribution: '&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'
        }).addTo(map);
        var marker = L.marker([-33.86, 151.20]).addTo(map).bindPopup('Sydney, Australia.');
    </script>
</body>

</html>